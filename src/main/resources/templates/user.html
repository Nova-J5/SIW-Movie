<!DOCTYPE html>
<html>
	<head>
		<title>
			Utente
		</title>
		<div th:replace="fragments/css :: css-dep"></div>
	</head>
	<body>
		<div th:replace="fragments/navbar :: navbar"></div>
		
			
		<!-- Inizio profilo -->
		<div class="bg-white shadow rounded overflow-hidden">
		    <div class="justify-content-center text-center px-4 pt-0 pb-4 bg-white">
		        <div class="media align-items-end profile-header">
		            <div class="profile mt-3 mr-3">
						<div th:if="${user.image} != null">
							<img th:src="@{'/display/image/' + ${user.image.id}}" class="rounded-cicle img-thumbnail mt-5 mb-2" style="border-radius: 100%; height: 300px; width: 300px; z-index: 1">
						</div>
						<div th:if="${user.image} == null">
							<img src="https://cdn.pixabay.com/photo/2012/04/26/19/43/profile-42914_1280.png" class="rounded-circle img-thumbnail mt-5 mb-2" style="border-radius: 100%; height: 150px; width: 150px; z-index: 1">
						</div>
		                <a th:href="@{'/formUpdateUser/' + ${user.id}}" class="btn btn-dark btn-sm btn-block">Modifica profilo</a>
		            </div>
		            <div class="media-body mb-5 text-black">
		                <h4 class="mt-3 mb-0" th:text="${user.name} + ' ' + ${user.surname}"></h4>
		                <span th:text="'@' + ${userDetails.username}" class="small mb-4"></span>
		            </div>
		        </div>
		    </div>
		
		    <div class="bg-light p-4 d-flex justify-content-center text-center">
		        <ul class="list-inline mb-0">
		            <li class="list-inline-item">
		                <h5 th:text="${#lists.size(reviews)}" class="font-weight-bold mb-0 d-block"></h5>
						<small class="text-muted">Recensioni</small>
		            </li>
		        </ul>
		    </div>
		
			<div class="card-body p-4 text-black">
			    <div class="d-flex justify-content-between align-items-center mb-4">
			        <p class="lead fw-normal mb-0">Film recensiti</p>
			        <p class="mb-0"><a th:href="@{'/reviews/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
			    </div>
			    <div class="row g-2">
			        <div class="col mb-2" th:if="${firstReviewed}">
			            <div th:if="${firstReviewed.movie.image} != null">
			                <img th:src="@{'/display/image/' + ${firstReviewed.movie.image.id}}" class="rounded-3" />
			            </div>
			            <div th:if="${firstReviewed.movie.image} == null">
			                <img src="/images/image-not-available.jpeg" class="rounded-3" />
			            </div>
			        </div>
			        <div class="col mb-2" th:if="${secondReviewed}">
			            <div th:if="${secondReviewed.movie.image} != null">
			                <img th:src="@{'/display/image/' + ${secondReviewed.movie.image.id}}" class="rounded-3" />
			            </div>
			            <div th:if="${secondReviewed.movie.image} == null">
			                <img src="/images/image-not-available.jpeg" class="rounded-3" />
			            </div>
			        </div>
			    </div>
			    <div class="row g-2">
			        <div class="col" th:if="${thirdReviewed}">
			            <div th:if="${thirdReviewed.movie.image} != null">
			                <img th:src="@{'/display/image/' + ${thirdReviewed.movie.image.id}}" class="rounded-3" />
			            </div>
			            <div th:if="${thirdReviewed.movie.image} == null">
			                <img src="/images/image-not-available.jpeg" class="rounded-3" />
			            </div>
			        </div>
			        <div class="col" th:if="${fourthReviewed}">
			            <div th:if="${fourthReviewed.movie.image} != null">
			                <img th:src="@{'/display/image/' + ${fourthReviewed.movie.image.id}}" class="rounded-3" />
			            </div>
			            <div th:if="${fourthReviewed.movie.image} == null">
			                <img src="/images/image-not-available.jpeg" class="rounded-3" />
			            </div>
			        </div>
			    </div>
			</div>
		</div><!-- Fine profilo -->
	    
		<div th:replace="fragments/footer :: footer"></div>
	</body>
</html>